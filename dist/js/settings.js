const a4_0x4b8b2e=a4_0x3ee2;function a4_0x5177(){const _0x50abbb=['add','catch','open-changelog','light','174DtNgqk','open','signing\x20out...','closeChangelog','auth-loading','onAuthStateChanged','auth-status-msg','Supressing\x20COOP\x20error.','Login\x20fail:','2960oTrKfD','Logout\x20fail:','hidden','toggle-settings','onclick','30JpWvte','code','contains','toggle','logout-btn','logged-in-view','getElementById','conflict-modal','2999760tDMazZ','2498783EXXmtL','online','33115QhmMRi','user-email-display','dark-mode-toggle','email','manual-cancel-auth','oops!\x20login\x20was\x20cancelled.','dark','preventDefault','opening\x20google\x20login...','changelog-modal','427112PIwpck','balangkas_theme','conflict-msg','switch\x20to\x20dark\x20mode','offline','body','then','message','Login\x20success!','remove','80702qwKHIT','error','getItem','switch\x20to\x20light\x20mode','121454clbYew','classList','includes','dark-mode','signInWithPopup','Cross-Origin-Opener-Policy','innerText','981LpURBG','auth/popup-closed-by-user','menu-overlay','sync-status','warn'];a4_0x5177=function(){return _0x50abbb;};return a4_0x5177();}function a4_0x3ee2(_0x21c1a6,_0x299604){_0x21c1a6=_0x21c1a6-0x170;const _0x51775d=a4_0x5177();let _0x3ee270=_0x51775d[_0x21c1a6];return _0x3ee270;}(function(_0x506a23,_0xa09937){const _0x33a0a6=a4_0x3ee2,_0x184304=_0x506a23();while(!![]){try{const _0x498ff8=-parseInt(_0x33a0a6(0x177))/0x1+-parseInt(_0x33a0a6(0x173))/0x2*(-parseInt(_0x33a0a6(0x195))/0x3)+parseInt(_0x33a0a6(0x1aa))/0x4+-parseInt(_0x33a0a6(0x1a0))/0x5*(parseInt(_0x33a0a6(0x187))/0x6)+parseInt(_0x33a0a6(0x19e))/0x7+parseInt(_0x33a0a6(0x190))/0x8*(-parseInt(_0x33a0a6(0x17e))/0x9)+-parseInt(_0x33a0a6(0x19d))/0xa;if(_0x498ff8===_0xa09937)break;else _0x184304['push'](_0x184304['shift']());}catch(_0x3561c3){_0x184304['push'](_0x184304['shift']());}}}(a4_0x5177,0x341b6));import{auth,provider}from'./sync.js';const sideNav=document['getElementById']('settings-menu'),menuOverlay=document[a4_0x4b8b2e(0x19b)](a4_0x4b8b2e(0x180)),loadingOverlay=document[a4_0x4b8b2e(0x19b)](a4_0x4b8b2e(0x18b)),statusMsg=document[a4_0x4b8b2e(0x19b)](a4_0x4b8b2e(0x18d)),loggedOutView=document['getElementById']('logged-out-view'),loggedInView=document[a4_0x4b8b2e(0x19b)](a4_0x4b8b2e(0x19a)),emailDisplay=document['getElementById'](a4_0x4b8b2e(0x1a1)),conflictModal=document[a4_0x4b8b2e(0x19b)](a4_0x4b8b2e(0x19c)),conflictMsg=document['getElementById'](a4_0x4b8b2e(0x1ac)),darkModeToggle=document[a4_0x4b8b2e(0x19b)](a4_0x4b8b2e(0x1a2)),changelogModal=document['getElementById'](a4_0x4b8b2e(0x1a9));if(localStorage[a4_0x4b8b2e(0x175)]('balangkas_theme')===a4_0x4b8b2e(0x1a6)){document[a4_0x4b8b2e(0x1af)][a4_0x4b8b2e(0x178)][a4_0x4b8b2e(0x183)](a4_0x4b8b2e(0x17a));if(darkModeToggle)darkModeToggle[a4_0x4b8b2e(0x17d)]='switch\x20to\x20light\x20mode';}darkModeToggle&&(darkModeToggle[a4_0x4b8b2e(0x194)]=()=>{const _0x539ba7=a4_0x4b8b2e,_0x246aca=document['body'][_0x539ba7(0x178)][_0x539ba7(0x198)](_0x539ba7(0x17a));localStorage['setItem'](_0x539ba7(0x1ab),_0x246aca?_0x539ba7(0x1a6):_0x539ba7(0x186)),darkModeToggle[_0x539ba7(0x17d)]=_0x246aca?_0x539ba7(0x176):_0x539ba7(0x1ad);});document[a4_0x4b8b2e(0x19b)](a4_0x4b8b2e(0x193))[a4_0x4b8b2e(0x194)]=()=>{const _0x45394c=a4_0x4b8b2e;sideNav[_0x45394c(0x178)][_0x45394c(0x183)](_0x45394c(0x188)),menuOverlay[_0x45394c(0x178)][_0x45394c(0x172)]('hidden');};const closeMenu=()=>{const _0x1b00e4=a4_0x4b8b2e;sideNav['classList'][_0x1b00e4(0x172)](_0x1b00e4(0x188)),menuOverlay['classList']['add'](_0x1b00e4(0x192));};document['getElementById']('close-settings')[a4_0x4b8b2e(0x194)]=closeMenu,menuOverlay[a4_0x4b8b2e(0x194)]=closeMenu,document[a4_0x4b8b2e(0x19b)]('manual-cancel-auth')[a4_0x4b8b2e(0x194)]=()=>{const _0x1f2a5d=a4_0x4b8b2e;loadingOverlay[_0x1f2a5d(0x178)][_0x1f2a5d(0x183)](_0x1f2a5d(0x192));},document[a4_0x4b8b2e(0x19b)](a4_0x4b8b2e(0x185))[a4_0x4b8b2e(0x194)]=_0x20dd60=>{const _0x1f0775=a4_0x4b8b2e;_0x20dd60[_0x1f0775(0x1a7)](),closeMenu(),changelogModal[_0x1f0775(0x178)][_0x1f0775(0x172)](_0x1f0775(0x192));},window[a4_0x4b8b2e(0x18a)]=()=>{const _0x20c630=a4_0x4b8b2e;changelogModal[_0x20c630(0x178)]['add']('hidden');};const showAuthLoading=_0x3627a5=>{const _0x345747=a4_0x4b8b2e;statusMsg[_0x345747(0x17d)]=_0x3627a5,document[_0x345747(0x19b)](_0x345747(0x1a4))['classList'][_0x345747(0x172)](_0x345747(0x192)),loadingOverlay[_0x345747(0x178)]['remove'](_0x345747(0x192));},hideAuthLoading=(_0x125377,_0x3e2d4a=0x7d0)=>{const _0x3f9224=a4_0x4b8b2e;statusMsg[_0x3f9224(0x17d)]=_0x125377,document[_0x3f9224(0x19b)](_0x3f9224(0x1a4))['classList'][_0x3f9224(0x183)]('hidden'),setTimeout(()=>{const _0x5dc166=_0x3f9224;loadingOverlay[_0x5dc166(0x178)]['add']('hidden');},_0x3e2d4a);};auth[a4_0x4b8b2e(0x18c)](_0x2540aa=>{const _0x487215=a4_0x4b8b2e,_0x5c2cda=document['getElementById'](_0x487215(0x181));if(_0x2540aa){loggedOutView[_0x487215(0x178)][_0x487215(0x183)](_0x487215(0x192)),loggedInView[_0x487215(0x178)]['remove'](_0x487215(0x192)),emailDisplay[_0x487215(0x17d)]='synced\x20as:\x20'+_0x2540aa[_0x487215(0x1a3)];if(_0x5c2cda)_0x5c2cda['innerText']=_0x487215(0x19f);!loadingOverlay[_0x487215(0x178)][_0x487215(0x197)](_0x487215(0x192))&&hideAuthLoading(_0x487215(0x171));}else{loggedOutView['classList'][_0x487215(0x172)]('hidden'),loggedInView['classList'][_0x487215(0x183)](_0x487215(0x192));if(_0x5c2cda)_0x5c2cda[_0x487215(0x17d)]=_0x487215(0x1ae);}}),document['getElementById']('login-btn')[a4_0x4b8b2e(0x194)]=async()=>{const _0x3ba35e=a4_0x4b8b2e;showAuthLoading(_0x3ba35e(0x1a8)),closeMenu();try{await auth[_0x3ba35e(0x17b)](provider);}catch(_0x545f41){if(_0x545f41['message']&&_0x545f41[_0x3ba35e(0x170)][_0x3ba35e(0x179)](_0x3ba35e(0x17c))){console[_0x3ba35e(0x182)](_0x3ba35e(0x18e));return;}if(_0x545f41[_0x3ba35e(0x196)]===_0x3ba35e(0x17f)){loadingOverlay[_0x3ba35e(0x178)][_0x3ba35e(0x183)]('hidden'),conflictMsg[_0x3ba35e(0x17d)]=_0x3ba35e(0x1a5),conflictModal[_0x3ba35e(0x178)][_0x3ba35e(0x172)](_0x3ba35e(0x192));return;}console[_0x3ba35e(0x174)](_0x3ba35e(0x18f),_0x545f41),hideAuthLoading('oops!\x20login\x20failed.');}},document[a4_0x4b8b2e(0x19b)](a4_0x4b8b2e(0x199))[a4_0x4b8b2e(0x194)]=()=>{const _0x5ee08c=a4_0x4b8b2e;showAuthLoading(_0x5ee08c(0x189)),auth['signOut']()[_0x5ee08c(0x1b0)](()=>{hideAuthLoading('signing\x20you\x20out...'),closeMenu();})[_0x5ee08c(0x184)](_0x143fdf=>{const _0x37f5c1=_0x5ee08c;console[_0x37f5c1(0x174)](_0x37f5c1(0x191),_0x143fdf),hideAuthLoading('error\x20signing\x20out.');});};